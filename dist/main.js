(()=>{var e,t={997:e=>{e.exports=function(){var e=document.createElement("footer");e.id="main-footer";var t=document.createElement("p");return t.textContent="Made with â¤ï¸ by ArthurMTS",e.append(t),e}},835:e=>{e.exports=function(){var e=document.createElement("header");e.id="main-header";var t=document.createElement("h1");t.textContent="Battleship",t.id="title",t.addEventListener("click",(function(){return location.reload()}));var n=document.createElement("nav");n.id="nav";var a=document.createElement("ul"),r=document.createElement("li"),i=document.createElement("a");i.textContent="My Github",i.href="https://github.com/ArthurMTS",i.target="_blank",r.append(i);var o=document.createElement("li"),c=document.createElement("a");return c.textContent="Source Code",c.href="https://github.com/ArthurMTS/battleship",c.target="_blank",o.append(c),a.append(r,o),n.append(a),e.append(t,n),e}},809:(e,t,n)=>{var a=n(613);e.exports=function(){var e=function(e){var t,n,a,r=[];for(t=0;t<10;t++){for(a=[],n=0;n<10;n++)a.push({hitted:!1,ship:null});r.push(a)}return r}(),t=[];return{grid:e,ships:t,placeShip:function(n,r,i){if(!(n<0||n>=10||r<0||r>=10||n+i>=10&&r+i>=10)){var o=a(i);t.push(o);var c=t.length-1;o.hits.forEach((function(t,a){return e[n][r+a].ship={id:c,position:a}}))}},receiveAttack:function(n,a){if(!(n<0||n>=10||a<0||a>=10)){var r=e[n][a],i=r.hitted,o=r.ship;if(i)return!1;if(e[n][a].hitted=!0,null!=o){var c=o.id,u=o.position;t[c].hit(u)}return!0}},allSunk:function(){return t.every((function(e){return e.isSunk()}))}}}},886:(e,t,n)=>{var a=n(809),r=n(694);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e,i=a(),o=t;function c(e,t){return o&&(e=r(10),t=r(10)),i.receiveAttack(e,t)}return{name:n,gameboard:i,isBot:o,attack:c}}},613:e=>{e.exports=function(e){var t=e,n=function(e){var t,n=[];for(t=0;t<e;t++)n.push(!1);return n}(e);return{length:t,hits:n,hit:function(e){e<0||e>=t||(n[e]=!0)},isSunk:function(){return n.every((function(e){return!0===e}))}}}},257:(e,t,n)=>{function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(886),o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"newGame",(function(e){var t=i(e);t.gameboard.placeShip(0,0,5),t.gameboard.placeShip(1,0,4),t.gameboard.placeShip(2,0,3),t.gameboard.placeShip(3,0,2),t.gameboard.placeShip(4,0,1);var a=i("Computer",!0);a.gameboard.placeShip(0,0,5),a.gameboard.placeShip(1,0,4),a.gameboard.placeShip(2,0,3),a.gameboard.placeShip(3,0,2),a.gameboard.placeShip(4,0,1),n.players.push(t),n.players.push(a),n.view.gamePage(n.players[1],n.players[0],n.handleBoardAttack)})),r(this,"handleBoardAttack",(function(e,t){n.gameOver||(n.players[0].attack(e,t),n.players[1].attack(),n.view.loadBoard("computer",n.players[1].gameboard,n.handleBoardAttack),n.view.loadBoard("player",n.players[0].gameboard,n.handleBoardAttack),n.checkWinner())})),this.view=t,this.players=[],this.gameOver=!1,this.view.renderForm(this.newGame)}var t,n;return t=e,(n=[{key:"checkWinner",value:function(){this.players[0].gameboard.allSunk()?(this.gameOver=!0,this.view.showWinner(this.players[0].name)):this.players[1].gameboard.allSunk()&&(this.gameOver=!0,this.view.showWinner(this.players[1].name))}}])&&a(t.prototype,n),e}();e.exports=o},19:(e,t,n)=>{function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=n(835),i=n(997),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=document.createElement("main"),this.main.id="main",document.querySelector("#root").append(r(),this.main,i())}var t,n;return t=e,(n=[{key:"renderForm",value:function(e){var t=document.createElement("div");t.id="newgame-page";var n=document.createElement("h2");n.textContent="Enter your name";var a=document.createElement("form");a.id="newgame-form",a.addEventListener("submit",(function(t){t.preventDefault(),e(r.value)}));var r=document.createElement("input");r.placeholder="Player name",r.type="text",r.required=!0;var i=document.createElement("button");i.textContent="New Game",i.classList.add("pink-button"),i.type="submit",a.append(r,i),t.append(n,a),this.main.append(t)}},{key:"gamePage",value:function(e,t,n){this.main.innerHTML="";var a=document.createElement("div");a.classList.add("grid"),a.classList.add("player");var r=document.createElement("div");r.classList.add("grid"),r.classList.add("computer"),this.main.append(r,a),this.loadBoard("player",e.gameboard,n),this.loadBoard("computer",t.gameboard,n)}},{key:"loadBoard",value:function(e,t,n){var a,r,i=document.querySelector("div .".concat(e));for(i.innerHTML="",a=0;a<10;a++)for(r=0;r<10;r++){var o=document.createElement("button");o.title="cell",o.classList.add("cell");var c=t.grid[a][r],u=c.hitted,l=c.ship;"computer"===e&&null!==l&&(o.textContent="ðŸš¢"),u&&null!==l?(o.classList.add("hitted"),o.textContent="ðŸš¢"):u&&null===l?o.classList.add("missed"):o.classList.add("scale"),"computer"!==e&&this.setCellEvent(o,n,a,r),i.append(o)}}},{key:"setCellEvent",value:function(e,t,n,a){e.addEventListener("click",(function(){return t(n,a)}))}},{key:"showWinner",value:function(e){var t=document.querySelector(".grid"),n=document.createElement("div");n.id="winner";var a=document.createElement("p");a.textContent="âœŒï¸ ".concat(e," WINS! âœŒï¸");var r=document.createElement("button");r.textContent="Play again",r.classList.add("pink-button"),r.addEventListener("click",(function(){return location.reload()})),n.append(a,r),t.after(n)}}])&&a(t.prototype,n),e}();e.exports=o},694:e=>{e.exports=function(e){return Math.floor(Math.random()*e)}}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,a),i.exports}e=a(19),new(a(257))(new e)})();