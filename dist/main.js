(()=>{var e,t={52:(e,t,n)=>{var r=n(234);e.exports=function(e,t){var n,a,i=e.name,o=e.gameboard,c=document.createElement("div");for(c.classList.add("grid"),"Computer"===i?c.classList.add("player"):c.classList.add("computer"),n=0;n<10;n++)for(a=0;a<10;a++){var u=document.createElement("button");u.classList.add("cell"),"Computer"===i&&null!==o.grid[n][a].ship&&(u.textContent="🚢"),r(u,o,t,n,a),c.append(u)}return c}},997:e=>{e.exports=function(){var e=document.createElement("footer");e.id="main-footer";var t=document.createElement("p");return t.textContent="Made with ❤️ by ArthurMTS",e.append(t),e}},835:e=>{e.exports=function(){var e=document.createElement("header");e.id="main-header";var t=document.createElement("h1");t.textContent="Battleship",t.id="title",t.addEventListener("click",(function(){return location.reload()}));var n=document.createElement("nav");n.id="nav";var r=document.createElement("li"),a=document.createElement("a");a.textContent="My Github",a.href="https://github.com/ArthurMTS",a.target="_blank",r.append(a);var i=document.createElement("li"),o=document.createElement("a");return o.textContent="Source Code",o.href="https://github.com/ArthurMTS/battleship",o.target="_blank",i.append(o),n.append(r,i),e.append(t,n),e}},809:(e,t,n)=>{var r=n(613);e.exports=function(){var e=function(e){var t,n,r,a=[];for(t=0;t<10;t++){for(r=[],n=0;n<10;n++)r.push({hitted:!1,ship:null});a.push(r)}return a}(),t=[];return{grid:e,ships:t,placeShip:function(n,a,i){if(!(n<0||n>=10||a<0||a>=10||n+i>=10&&a+i>=10)){var o=r(i);t.push(o);var c=t.length-1;o.hits.forEach((function(t,r){e[n][a+r].ship={id:c,position:r}}))}},receiveAttack:function(n,r){if(!(n<0||n>=10||r<0||r>=10)){if(e[n][r].hitted)return!1;if(e[n][r].hitted=!0,null!=e[n][r].ship){var a=e[n][r].ship,i=a.id,o=a.position;t[i].hit(o)}return!0}},allSunk:function(){return t.every((function(e){return e.isSunk()}))}}}},886:(e,t,n)=>{var r=n(694);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t,i=n;function o(e,t){return i&&(e=r(10),t=r(10)),a.receiveAttack(e,t)}return{name:e,gameboard:a,isBot:i,attack:o}}},613:e=>{e.exports=function(e){var t=e,n=function(e){var t,n=[];for(t=0;t<e;t++)n.push(!1);return n}(e);return{length:t,hits:n,hit:function(e){e<0||e>=t||(n[e]=!0)},isSunk:function(){return n.every((function(e){return!0===e}))}}}},257:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(809),o=n(886),c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"newGame",(function(e){var t=i();t.placeShip(0,0,5),t.placeShip(1,0,4),t.placeShip(2,0,3),t.placeShip(3,0,2),t.placeShip(4,0,1);var r=i();r.placeShip(0,0,5),r.placeShip(1,0,4),r.placeShip(2,0,3),r.placeShip(3,0,2),r.placeShip(4,0,1);var a=o(e,r,!0),c=o("Computer",t);n.players.push(a),n.players.push(c),n.view.gamePage(n.players[0],n.players[1],n.handleBoardAttack)})),a(this,"handleBoardAttack",(function(e,t){n.gameOver||(n.players[1].attack(e,t),n.players[0].attack(),n.view.loadBoard("computer",n.players[1].name,n.players[1].gameboard,n.handleBoardAttack),n.view.loadBoard("player",n.players[0].name,n.players[0].gameboard,n.handleBoardAttack),n.checkWinner())})),this.view=t,this.players=[],this.gameOver=!1,this.view.renderForm(this.newGame)}var t,n;return t=e,(n=[{key:"checkWinner",value:function(){var e=this;this.players[1].gameboard.allSunk()?(this.gameOver=!0,setTimeout((function(){return e.view.showWinner(e.players[0].name)}),500)):this.players[0].gameboard.allSunk()&&(this.gameOver=!0,setTimeout((function(){return e.view.showWinner(e.players[1].name)}),500))}}])&&r(t.prototype,n),e}();e.exports=c},19:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(835),o=n(997),c=n(52),u=n(234),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=document.querySelector("#root"),this.main=document.createElement("main"),this.main.id="main",this.root.append(a(),this.main,o())}var t,n;return t=e,(n=[{key:"renderForm",value:function(e){var t=document.createElement("div");t.id="newgame-page";var n=document.createElement("h2");n.textContent="Enter your name";var r=document.createElement("form");r.id="newgame-form",r.addEventListener("submit",(function(t){t.preventDefault(),e(a.value)}));var a=document.createElement("input");a.placeholder="Player name",a.id="username-ipt",a.type="text",a.required=!0;var i=document.createElement("button");i.textContent="New Game",i.classList.add("pink-button"),i.type="submit",r.append(a,i),t.append(n,r),this.main.append(t)}},{key:"gamePage",value:function(e,t,n){this.main.innerHTML="",this.main.append(c(t,n)),this.main.append(c(e,n))}},{key:"loadBoard",value:function(e,t,n,r){var a=document.querySelector("div .".concat(e));for(a.innerHTML="",i=0;i<10;i++)for(j=0;j<10;j++){var o=document.createElement("button");o.classList.add("cell"),"Computer"!==t&&null!==n.grid[i][j].ship&&(o.textContent="🚢"),u(o,n,r,i,j),a.append(o)}}},{key:"showWinner",value:function(e){var t=document.querySelector(".grid"),n=document.createElement("div");n.id="winner";var r=document.createElement("p");r.textContent="✌️ ".concat(e," wins! ✌️");var a=document.createElement("button");a.textContent="Play again",a.classList.add("pink-button"),a.addEventListener("click",(function(){location.reload()})),n.append(r,a),t.after(n)}}])&&r(t.prototype,n),e}();e.exports=l},694:e=>{e.exports=function(e){return Math.floor(Math.random()*e)}},234:e=>{e.exports=function(e,t,n,r,a){t.grid[r][a].hitted?null!==t.grid[r][a].ship?(e.classList.add("hitted"),e.textContent="🚢"):e.classList.add("missed"):e.classList.add("scale"),e.addEventListener("click",(function(){n(r,a)}))}}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}e=r(19),new(r(257))(new e)})();